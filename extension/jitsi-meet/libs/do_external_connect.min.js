!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/libs/",e(e.s=887)}({119:function(t,n){var e={trace:0,debug:1,info:2,log:3,warn:4,error:5};i.consoleTransport=console;var r=[i.consoleTransport];function o(){var t=arguments[0],n=arguments[1],o=Array.prototype.slice.call(arguments,2);if(!(e[n]<t.level))for(var i=function(){var t={methodName:"",fileLocation:"",line:null,column:null},n=new Error,e=n.stack?n.stack.split("\n"):[];if(!e||e.length<1)return t;var r=null;return e[3]&&(r=e[3].match(/\s*at\s*(.+?)\s*\((\S*)\s*:(\d*)\s*:(\d*)\)/)),!r||r.length<=4?(0===e[2].indexOf("log@")?t.methodName=e[3].substr(0,e[3].indexOf("@")):t.methodName=e[2].substr(0,e[2].indexOf("@")),t):(t.methodName=r[1],t.fileLocation=r[2],t.line=r[3],t.column=r[4],t)}(),s=r.concat(t.transports),a=0;a<s.length;a++){var c=s[a],u=c[n];u&&"function"==typeof u&&u.bind(c,t.id?"["+t.id+"]":"","<"+i.methodName+">: ").apply(c,o)}}function i(t,n,r,i){this.id=n,this.format=i,this.transports=r,this.transports||(this.transports=[]),this.level=e[t];for(var s=Object.keys(e),a=0;a<s.length;a++)this[s[a]]=o.bind(null,this,s[a])}i.addGlobalTransport=function(t){-1===r.indexOf(t)&&r.push(t)},i.removeGlobalTransport=function(t){var n=r.indexOf(t);-1!==n&&r.splice(n,1)},i.prototype.setLevel=function(t){this.level=e[t]},t.exports=i,i.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"}},122:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var r=e(31);function o(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e="search"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hash")?t.search:t.hash,o={};return e&&e.substr(1).split("&").forEach(function(t){var e=t.split("="),i=e[0];if(i){var s;try{s=e[1],n||(s=JSON.parse(decodeURIComponent(s).replace(/\\&/,"&")))}catch(t){return void Object(r.m)(t,"Failed to parse URL parameter value: ".concat(String(s)))}o[i]=s}}),o}},147:function(t,n,e){"use strict";(function(t){e.d(n,"b",function(){return o}),e.d(n,"a",function(){return i}),e.d(n,"c",function(){return s});var r=e(27).getLogger(t);function o(){return window.JitsiMeetJS||(window.JitsiMeetJS={}),window.JitsiMeetJS.app||(window.JitsiMeetJS.app={}),window.JitsiMeetJS.app}function i(t,n){var e=Object(t);for(var r in n)if(n.hasOwnProperty(r)){var o=n[r];void 0!==o&&(e[r]=o)}return e}function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";r.error(n,t),window.onerror&&window.onerror(n,null,null,null,t)}}).call(this,"react/features/base/util/helpers.js")},148:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return o});var r=e(27).getLogger(t);function o(t){return fetch(t).then(function(t){var n=t.json();return t.ok?n:n.then(function(t){return Promise.reject(t)})}).catch(function(n){return r.error("Error performing get:",t,n),Promise.reject(n)})}}).call(this,"react/features/base/util/httpUtils.js")},149:function(t,n,e){"use strict";(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.d(n,"a",function(){return i}),e.d(n,"b",function(){return u}),e.d(n,"c",function(){return f}),e.d(n,"d",function(){return d}),e.d(n,"e",function(){return p}),e.d(n,"f",function(){return v});var o=e(27).getLogger(t),i="org.jitsi.meet:",s="[\\:\\?#\\[\\]@!$&'()*+,;=></\"]",a="(//[^/?#]+)",c="([^?#]*)",u="([a-z][a-z0-9\\.\\+-]*:)";function l(t){var n=new RegExp("^".concat(u,"+"),"gi"),e=n.exec(t);if(e){var r=e[e.length-1].toLowerCase();"http:"!==r&&"https:"!==r&&(r="https:"),(t=t.substring(n.lastIndex)).startsWith("//")&&(t=r+t)}return t}function f(t){var n=t.pathname,e=n.lastIndexOf("/");return-1===e?"/":n.substring(0,e+1)}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[];for(var e in t)try{n.push("".concat(e,"=").concat(encodeURIComponent(JSON.stringify(t[e]))))}catch(t){o.warn("Error encoding ".concat(e,": ").concat(t))}return n}function d(t){var n,e,r,o={toString:g};if(t=t.replace(/\s/g,""),(e=(n=new RegExp("^".concat(u),"gi")).exec(t))&&(o.protocol=e[1].toLowerCase(),t=t.substring(n.lastIndex)),e=(n=new RegExp("^".concat(a),"gi")).exec(t)){var i=e[1].substring(2);t=t.substring(n.lastIndex);var s=i.indexOf("@");-1!==s&&(i=i.substring(s+1)),o.host=i;var l=i.lastIndexOf(":");-1!==l&&(o.port=i.substring(l+1),i=i.substring(0,l)),o.hostname=i}if((e=(n=new RegExp("^".concat(c),"gi")).exec(t))&&(r=e[1],t=t.substring(n.lastIndex)),r?r.startsWith("/")||(r="/".concat(r)):r="/",o.pathname=r,t.startsWith("?")){var f=t.indexOf("#",1);-1===f&&(f=t.length),o.search=t.substring(0,f),t=t.substring(f)}else o.search="";return o.hash=t.startsWith("#")?t:"",o}function p(t){if("string"==typeof t){var n=d(l(t));n.contextRoot=f(n);var e=n.pathname,r=e.lastIndexOf("/"),o=e.substring(r+1)||void 0;if(o){var i=function(t){return t?t.replace(new RegExp(s,"g"),""):t}(o);i!==o&&(o=i,n.pathname=e.substring(0,r+1)+(o||""))}return n.room=o,n}}function g(t){var n=t||this,e=n.hash,r=n.host,o=n.pathname,i=n.protocol,s=n.search,a="";return i&&(a+=i),r&&(a+="//".concat(r)),a+=o||"/",s&&(a+=s),e&&(a+=e),a}function v(t){var n;switch(r(t)){case"object":t&&(n=t instanceof URL?t.href:function(t){var n=d(l(t.url||""));if(!n.protocol){var e=t.protocol||t.scheme;e&&(e.endsWith(":")||(e+=":"),n.protocol=e)}var r=n.pathname;if(!n.host){var o=t.domain||t.host||t.hostname;if(o){var s=d(l("".concat(i,"//").concat(o))),a=s.host,c=s.hostname,u=s.pathname,f=s.port;a&&(n.host=a,n.hostname=c,n.port=f),"/"===r&&"/"!==u&&(r=u)}}var p=t.roomName||t.room;!p||!n.pathname.endsWith("/")&&n.pathname.endsWith("/".concat(p))||(r.endsWith("/")||(r+="/"),r+=p);n.pathname=r;var g=t.jwt;if(g){var v=n.search;-1===v.indexOf("?jwt=")&&-1===v.indexOf("&jwt=")&&(v.startsWith("?")||(v="?".concat(v)),1===v.length||(v+="&"),v+="jwt=".concat(g),n.search=v)}for(var b=n.hash,m=["config","interfaceConfig"],y=0;y<m.length;y++){var w=m[y],x=h(t["".concat(w,"Overwrite")]||t[w]||t["".concat(w,"Override")]);if(x.length){var O="".concat(w,".").concat(x.join("&".concat(w,".")));b.length?O="&".concat(O):b="#",b+=O}}return n.hash=b,n.toString()||void 0}(t));break;case"string":n=String(t)}return n}}).call(this,"react/features/base/util/uri.js")},164:function(t,n,e){var r=e(119);function o(t,n){this.logStorage=t,this.stringifyObjects=!(!n||!n.stringifyObjects)&&n.stringifyObjects,this.storeInterval=n&&n.storeInterval?n.storeInterval:3e4,this.maxEntryLength=n&&n.maxEntryLength?n.maxEntryLength:1e4,Object.keys(r.levels).forEach(function(t){this[r.levels[t]]=function(t){this._log.apply(this,arguments)}.bind(this,t)}.bind(this)),this.storeLogsIntervalID=null,this.queue=[],this.totalLen=0,this.outputCache=[]}o.prototype.stringify=function(t){try{return JSON.stringify(t)}catch(t){return"[object with circular refs?]"}},o.prototype.formatLogMessage=function(t){for(var n="",e=1,o=arguments.length;e<o;e++){var i=arguments[e];!this.stringifyObjects&&t!==r.levels.ERROR||"object"!=typeof i||(i=this.stringify(i)),n+=i,e!=o-1&&(n+=" ")}return n.length?n:null},o.prototype._log=function(){var t=this.formatLogMessage.apply(this,arguments);if(t){var n=this.queue.length?this.queue[this.queue.length-1]:void 0;("object"==typeof n?n.text:n)==t?"object"==typeof n?n.count+=1:this.queue[this.queue.length-1]={text:t,count:2}:(this.queue.push(t),this.totalLen+=t.length)}this.totalLen>=this.maxEntryLength&&this._flush(!0,!0)},o.prototype.start=function(){this._reschedulePublishInterval()},o.prototype._reschedulePublishInterval=function(){this.storeLogsIntervalID&&(window.clearTimeout(this.storeLogsIntervalID),this.storeLogsIntervalID=null),this.storeLogsIntervalID=window.setTimeout(this._flush.bind(this,!1,!0),this.storeInterval)},o.prototype.flush=function(){this._flush(!1,!0)},o.prototype._flush=function(t,n){this.totalLen>0&&(this.logStorage.isReady()||t)&&(this.logStorage.isReady()?(this.outputCache.length&&(this.outputCache.forEach(function(t){this.logStorage.storeLogs(t)}.bind(this)),this.outputCache=[]),this.logStorage.storeLogs(this.queue)):this.outputCache.push(this.queue),this.queue=[],this.totalLen=0),n&&this._reschedulePublishInterval()},o.prototype.stop=function(){this._flush(!1,!1)},t.exports=o},27:function(t,n,e){var r=e(119),o=e(164),i={},s=[],a=r.levels.TRACE;t.exports={addGlobalTransport:function(t){r.addGlobalTransport(t)},removeGlobalTransport:function(t){r.removeGlobalTransport(t)},getLogger:function(t,n,e){var o=new r(a,t,n,e);return t?(i[t]=i[t]||[],i[t].push(o)):s.push(o),o},setLogLevelById:function(t,n){for(var e=n?i[n]||[]:s,r=0;r<e.length;r++)e[r].setLevel(t)},setLogLevel:function(t){a=t;for(var n=0;n<s.length;n++)s[n].setLevel(t);for(var e in i){var r=i[e]||[];for(n=0;n<r.length;n++)r[n].setLevel(t)}},levels:r.levels,LogCollector:o}},31:function(t,n,e){"use strict";var r=e(147),o=e(148);function i(t){return new Promise(function(n,e){return JitsiMeetJS.util.ScriptUtil.loadScript(t,!0,!1,!1,n,e)})}var s="0123456789abcdef";function a(t){return t[u(0,t.length-1)]}function c(t){return l(t,s)}function u(t,n){return Math.floor(Math.random()*(n-t+1))+t}function l(t,n){for(var e="",r=0;r<t;++r)e+=a(n);return e}var f=e(149);e.d(n,"e",function(){return r.b}),e.d(n,"c",function(){return r.a}),e.d(n,"m",function(){return r.c}),e.d(n,"d",function(){return o.a}),e.d(n,"g",function(){return i}),e.d(n,"j",function(){return a}),e.d(n,"k",function(){return c}),e.d(n,"l",function(){return u}),e.d(n,"a",function(){return f.a}),e.d(n,"b",function(){return f.b}),e.d(n,"f",function(){return f.c}),e.d(n,"h",function(){return f.d}),e.d(n,"i",function(){return f.e}),e.d(n,"n",function(){return f.f})},424:function(t,n,e){"use strict";function r(){var t=config.getroomnode,n=window.location.pathname;return t&&"function"==typeof t?t.call(config,n):n.substring(n.lastIndexOf("/")+1).toLowerCase()||void 0}e.d(n,"a",function(){return r})},887:function(t,n,e){"use strict";e.r(n);var r=e(424),o=e(122);if("function"==typeof createConnectionExternally){var i,s=Object(o.a)(window.location,!0,"hash")["config.externalConnectUrl"]||config.externalConnectUrl,a=Object(o.a)(window.location,!0,"hash")["config.iAmRecorder"];if(s&&(i=Object(r.a)())&&!a){s+="?room=".concat(i);var c=Object(o.a)(window.location,!0,"search").jwt;c&&(s+="&token=".concat(c)),createConnectionExternally(s,function(t){window.XMPPAttachInfo={status:"success",data:t},u()},l)}else l()}else l();function u(){window.APP&&"ready"===window.APP.connect.status&&window.APP.connect.handler()}function l(t){t&&console.warn(t),window.XMPPAttachInfo={status:"error"},u()}}});
//# sourceMappingURL=do_external_connect.min.map